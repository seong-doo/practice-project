{"ast":null,"code":"import _slicedToArray from\"/Users/jeongseongdu/Downloads/git3/TEAM_5B/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from'react';import{LeftArrowIcon,MagnifierIcon}from'assets';import{useAppSelector,useAppDispatch}from'hooks';import{setSearchString}from'store';import SearchList from'components/SearchList';import styles from'./search-input.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MobileSearchInput(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSearching=_useState2[0],setIsSearching=_useState2[1];var listRef=useRef(null);var dispatch=useAppDispatch();var searchString=useAppSelector(function(state){return state.searchString.searchString;});var placeholder=searchString.length?searchString:'질환명을 입력해 주세요.';var toggleSearchInput=function toggleSearchInput(){return setIsSearching(function(prev){return!prev;});};var onChange=function onChange(e){dispatch(setSearchString(e.target.value));};var onKeyDown=function onKeyDown(e){if(e.key==='ArrowDown'){var _listRef$current;e.preventDefault();var firstListItem=(_listRef$current=listRef.current)===null||_listRef$current===void 0?void 0:_listRef$current.firstElementChild;firstListItem.focus();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{role:\"button\",tabIndex:0,className:styles['mobile-search-input'],onClick:toggleSearchInput,children:[/*#__PURE__*/_jsx(\"span\",{children:placeholder}),/*#__PURE__*/_jsx(MagnifierIcon,{})]}),/*#__PURE__*/_jsxs(\"div\",{\"data-id\":\"mobile\",className:styles['mobile-container'],style:isSearching?{display:'flex'}:{display:'none'},children:[/*#__PURE__*/_jsxs(\"div\",{className:styles['input-container'],children:[/*#__PURE__*/_jsx(LeftArrowIcon,{onClick:toggleSearchInput}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:styles.input,placeholder:\"\\uC9C8\\uD658\\uBA85\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",onChange:onChange,onKeyDown:onKeyDown}),/*#__PURE__*/_jsx(MagnifierIcon,{})]}),/*#__PURE__*/_jsx(SearchList,{listRef:listRef})]})]});}export default MobileSearchInput;","map":{"version":3,"names":["useRef","useState","LeftArrowIcon","MagnifierIcon","useAppSelector","useAppDispatch","setSearchString","SearchList","styles","MobileSearchInput","isSearching","setIsSearching","listRef","dispatch","searchString","state","placeholder","length","toggleSearchInput","prev","onChange","e","target","value","onKeyDown","key","preventDefault","firstListItem","current","firstElementChild","focus","display","input"],"sources":["/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/MobileSearchInput.tsx"],"sourcesContent":["import { ChangeEvent, KeyboardEvent, useRef, useState } from 'react';\n\nimport { LeftArrowIcon, MagnifierIcon } from 'assets';\nimport { useAppSelector, useAppDispatch } from 'hooks';\nimport { setSearchString } from 'store';\n\nimport SearchList from 'components/SearchList';\n\nimport styles from './search-input.module.scss';\n\nfunction MobileSearchInput() {\n  const [isSearching, setIsSearching] = useState<boolean>(false);\n\n  const listRef = useRef<HTMLUListElement>(null);\n\n  const dispatch = useAppDispatch();\n  const searchString = useAppSelector(\n    (state) => state.searchString.searchString\n  );\n\n  const placeholder = searchString.length\n    ? searchString\n    : '질환명을 입력해 주세요.';\n\n  const toggleSearchInput = () => setIsSearching((prev) => !prev);\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    dispatch(setSearchString(e.target.value));\n  };\n\n  const onKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      const firstListItem = listRef.current?.firstElementChild as HTMLLIElement;\n      firstListItem.focus();\n    }\n  };\n\n  return (\n    <>\n      <div\n        role=\"button\"\n        tabIndex={0}\n        className={styles['mobile-search-input']}\n        onClick={toggleSearchInput}\n      >\n        <span>{placeholder}</span>\n        <MagnifierIcon />\n      </div>\n      <div\n        data-id=\"mobile\"\n        className={styles['mobile-container']}\n        style={isSearching ? { display: 'flex' } : { display: 'none' }}\n      >\n        <div className={styles['input-container']}>\n          <LeftArrowIcon onClick={toggleSearchInput} />\n          <input\n            type=\"search\"\n            className={styles.input}\n            placeholder=\"질환명을 입력해 주세요.\"\n            onChange={onChange}\n            onKeyDown={onKeyDown}\n          />\n          <MagnifierIcon />\n        </div>\n        <SearchList listRef={listRef} />\n      </div>\n    </>\n  );\n}\n\nexport default MobileSearchInput;\n"],"mappings":"gIAAA,OAAqCA,MAArC,CAA6CC,QAA7C,KAA6D,OAA7D,CAEA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,QAA7C,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,OAA/C,CACA,OAASC,eAAT,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,C,6IAEA,QAASC,CAAAA,iBAAT,EAA6B,CAC3B,cAAsCR,QAAQ,CAAU,KAAV,CAA9C,wCAAOS,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,OAAO,CAAGZ,MAAM,CAAmB,IAAnB,CAAtB,CAEA,GAAMa,CAAAA,QAAQ,CAAGR,cAAc,EAA/B,CACA,GAAMS,CAAAA,YAAY,CAAGV,cAAc,CACjC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACD,YAAN,CAAmBA,YAA9B,EADiC,CAAnC,CAIA,GAAME,CAAAA,WAAW,CAAGF,YAAY,CAACG,MAAb,CAChBH,YADgB,CAEhB,eAFJ,CAIA,GAAMI,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,SAAMP,CAAAA,cAAc,CAAC,SAACQ,IAAD,QAAU,CAACA,IAAX,EAAD,CAApB,EAA1B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAsC,CACrDR,QAAQ,CAACP,eAAe,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACH,CAAD,CAAwC,CACxD,GAAIA,CAAC,CAACI,GAAF,GAAU,WAAd,CAA2B,sBACzBJ,CAAC,CAACK,cAAF,GACA,GAAMC,CAAAA,aAAa,mBAAGf,OAAO,CAACgB,OAAX,2CAAG,iBAAiBC,iBAAvC,CACAF,aAAa,CAACG,KAAd,GACD,CACF,CAND,CAQA,mBACE,wCACE,aACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAE,CAFZ,CAGE,SAAS,CAAEtB,MAAM,CAAC,qBAAD,CAHnB,CAIE,OAAO,CAAEU,iBAJX,wBAME,sBAAOF,WAAP,EANF,cAOE,KAAC,aAAD,IAPF,GADF,cAUE,aACE,UAAQ,QADV,CAEE,SAAS,CAAER,MAAM,CAAC,kBAAD,CAFnB,CAGE,KAAK,CAAEE,WAAW,CAAG,CAAEqB,OAAO,CAAE,MAAX,CAAH,CAAyB,CAAEA,OAAO,CAAE,MAAX,CAH7C,wBAKE,aAAK,SAAS,CAAEvB,MAAM,CAAC,iBAAD,CAAtB,wBACE,KAAC,aAAD,EAAe,OAAO,CAAEU,iBAAxB,EADF,cAEE,cACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAEV,MAAM,CAACwB,KAFpB,CAGE,WAAW,CAAC,iEAHd,CAIE,QAAQ,CAAEZ,QAJZ,CAKE,SAAS,CAAEI,SALb,EAFF,cASE,KAAC,aAAD,IATF,GALF,cAgBE,KAAC,UAAD,EAAY,OAAO,CAAEZ,OAArB,EAhBF,GAVF,GADF,CA+BD,CAED,cAAeH,CAAAA,iBAAf"},"metadata":{},"sourceType":"module"}