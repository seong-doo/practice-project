{"ast":null,"code":"import{useEffect}from'react';import{useQuery}from'react-query';import{useAppDispatch,useAppSelector,useQueryDebounce}from'hooks';import{setFilteredList}from'store';import{fetcher}from'utils';import DesktopSearchInput from'./DesktopSearchInput';import MobileSearchInput from'./MobileSearchInput';import styles from'./search-input.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchInput(){var dispatch=useAppDispatch();var searchString=useAppSelector(function(state){return state.searchString.searchString;});var searchInput=useQueryDebounce(searchString,500);var _useQuery=useQuery(['data',searchInput],function(){return fetcher(searchInput);},{enabled:!!searchInput}),data=_useQuery.data;useEffect(function(){if(data){if(Array.isArray(data)){dispatch(setFilteredList(data));}else{dispatch(setFilteredList([data]));}}else{dispatch(setFilteredList([]));}},[data,dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:styles['search-input'],children:[/*#__PURE__*/_jsx(MobileSearchInput,{}),/*#__PURE__*/_jsx(DesktopSearchInput,{})]});}export default SearchInput;","map":{"version":3,"names":["useEffect","useQuery","useAppDispatch","useAppSelector","useQueryDebounce","setFilteredList","fetcher","DesktopSearchInput","MobileSearchInput","styles","SearchInput","dispatch","searchString","state","searchInput","enabled","data","Array","isArray"],"sources":["/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/index.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useQuery } from 'react-query';\n\nimport { useAppDispatch, useAppSelector, useQueryDebounce } from 'hooks';\nimport { setFilteredList } from 'store';\nimport { fetcher } from 'utils';\n\nimport DesktopSearchInput from './DesktopSearchInput';\nimport MobileSearchInput from './MobileSearchInput';\n\nimport styles from './search-input.module.scss';\n\nfunction SearchInput() {\n  const dispatch = useAppDispatch();\n  const searchString = useAppSelector(\n    (state) => state.searchString.searchString\n  );\n\n  const searchInput = useQueryDebounce(searchString, 500);\n\n  const { data } = useQuery(['data', searchInput], () => fetcher(searchInput), {\n    enabled: !!searchInput,\n  });\n\n  useEffect(() => {\n    if (data) {\n      if (Array.isArray(data)) {\n        dispatch(setFilteredList(data));\n      } else {\n        dispatch(setFilteredList([data]));\n      }\n    } else {\n      dispatch(setFilteredList([]));\n    }\n  }, [data, dispatch]);\n\n  return (\n    <div className={styles['search-input']}>\n      <MobileSearchInput />\n      <DesktopSearchInput />\n    </div>\n  );\n}\n\nexport default SearchInput;\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,aAAzB,CAEA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,gBAAzC,KAAiE,OAAjE,CACA,OAASC,eAAT,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,OAAxB,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,QAAQ,CAAGT,cAAc,EAA/B,CACA,GAAMU,CAAAA,YAAY,CAAGT,cAAc,CACjC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACD,YAAN,CAAmBA,YAA9B,EADiC,CAAnC,CAIA,GAAME,CAAAA,WAAW,CAAGV,gBAAgB,CAACQ,YAAD,CAAe,GAAf,CAApC,CAEA,cAAiBX,QAAQ,CAAC,CAAC,MAAD,CAASa,WAAT,CAAD,CAAwB,iBAAMR,CAAAA,OAAO,CAACQ,WAAD,CAAb,EAAxB,CAAoD,CAC3EC,OAAO,CAAE,CAAC,CAACD,WADgE,CAApD,CAAzB,CAAQE,IAAR,WAAQA,IAAR,CAIAhB,SAAS,CAAC,UAAM,CACd,GAAIgB,IAAJ,CAAU,CACR,GAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAJ,CAAyB,CACvBL,QAAQ,CAACN,eAAe,CAACW,IAAD,CAAhB,CAAR,CACD,CAFD,IAEO,CACLL,QAAQ,CAACN,eAAe,CAAC,CAACW,IAAD,CAAD,CAAhB,CAAR,CACD,CACF,CAND,IAMO,CACLL,QAAQ,CAACN,eAAe,CAAC,EAAD,CAAhB,CAAR,CACD,CACF,CAVQ,CAUN,CAACW,IAAD,CAAOL,QAAP,CAVM,CAAT,CAYA,mBACE,aAAK,SAAS,CAAEF,MAAM,CAAC,cAAD,CAAtB,wBACE,KAAC,iBAAD,IADF,cAEE,KAAC,kBAAD,IAFF,GADF,CAMD,CAED,cAAeC,CAAAA,WAAf"},"metadata":{},"sourceType":"module"}