{"ast":null,"code":"var _jsxFileName = \"/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/DesktopSearchInput.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport { MagnifierIcon } from 'assets';\nimport SearchList from 'components/SearchList';\nimport { useQueryDebounce, useAppSelector, useAppDispatch } from 'hooks';\nimport { fetcher } from 'utils';\nimport { setSearchString, setFilteredList } from 'store';\nimport styles from './search-input.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DesktopSearchInput() {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const searchString = useAppSelector(state => state.searchString.searchString);\n  const searchInput = useQueryDebounce(searchString, 500);\n  const {\n    data\n  } = useQuery(['data', searchInput], () => fetcher(searchInput), {\n    enabled: !!searchInput\n  });\n  const isVisible = searchString.length > 0;\n\n  const onChange = e => dispatch(setSearchString(e.target.value));\n\n  useEffect(() => {\n    if (data) {\n      if (Array.isArray(data)) {\n        dispatch(setFilteredList(data));\n      } else {\n        dispatch(setFilteredList([data]));\n      }\n    } else {\n      dispatch(setFilteredList([]));\n    }\n  }, [data, dispatch, isVisible]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-id\": \"desktop\",\n    className: styles['desktop-search-input'],\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles['input-container'],\n      children: [/*#__PURE__*/_jsxDEV(MagnifierIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        className: styles.input,\n        placeholder: \"\\uC9C8\\uD658\\uBA85\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",\n        value: searchString,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: styles.button,\n      children: \"\\uAC80\\uC0C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DesktopSearchInput, \"VRQqAGZ8ilUmh/hOisJeh3ppRd0=\", false, function () {\n  return [useAppDispatch, useAppSelector, useQueryDebounce, useQuery];\n});\n\n_c = DesktopSearchInput;\nexport default DesktopSearchInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"DesktopSearchInput\");","map":{"version":3,"names":["useEffect","useQuery","MagnifierIcon","SearchList","useQueryDebounce","useAppSelector","useAppDispatch","fetcher","setSearchString","setFilteredList","styles","DesktopSearchInput","dispatch","searchString","state","searchInput","data","enabled","isVisible","length","onChange","e","target","value","Array","isArray","input","button"],"sources":["/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/DesktopSearchInput.tsx"],"sourcesContent":["import { ChangeEvent, useEffect } from 'react';\nimport { useQuery } from 'react-query';\n\nimport { MagnifierIcon } from 'assets';\nimport SearchList from 'components/SearchList';\n\nimport { useQueryDebounce, useAppSelector, useAppDispatch } from 'hooks';\nimport { fetcher } from 'utils';\nimport { setSearchString, setFilteredList } from 'store';\n\nimport styles from './search-input.module.scss';\n\nfunction DesktopSearchInput() {\n  const dispatch = useAppDispatch();\n  const searchString = useAppSelector(\n    (state) => state.searchString.searchString\n  );\n\n  const searchInput = useQueryDebounce(searchString, 500);\n\n  const { data } = useQuery(['data', searchInput], () => fetcher(searchInput), {\n    enabled: !!searchInput,\n  });\n\n  const isVisible = searchString.length > 0;\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) =>\n    dispatch(setSearchString(e.target.value));\n\n  useEffect(() => {\n    if (data) {\n      if (Array.isArray(data)) {\n        dispatch(setFilteredList(data));\n      } else {\n        dispatch(setFilteredList([data]));\n      }\n    } else {\n      dispatch(setFilteredList([]));\n    }\n  }, [data, dispatch, isVisible]);\n  return (\n    <div data-id=\"desktop\" className={styles['desktop-search-input']}>\n      <div className={styles['input-container']}>\n        <MagnifierIcon />\n        <input\n          type=\"search\"\n          className={styles.input}\n          placeholder=\"질환명을 입력해 주세요.\"\n          value={searchString}\n          onChange={onChange}\n        />\n      </div>\n      <button type=\"button\" className={styles.button}>\n        검색\n      </button>\n      <SearchList />\n    </div>\n  );\n}\n\nexport default DesktopSearchInput;\n"],"mappings":";;;AAAA,SAAsBA,SAAtB,QAAuC,OAAvC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,SAASC,aAAT,QAA8B,QAA9B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AAEA,SAASC,gBAAT,EAA2BC,cAA3B,EAA2CC,cAA3C,QAAiE,OAAjE;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,eAAT,EAA0BC,eAA1B,QAAiD,OAAjD;AAEA,OAAOC,MAAP,MAAmB,4BAAnB;;;AAEA,SAASC,kBAAT,GAA8B;EAAA;;EAC5B,MAAMC,QAAQ,GAAGN,cAAc,EAA/B;EACA,MAAMO,YAAY,GAAGR,cAAc,CAChCS,KAAD,IAAWA,KAAK,CAACD,YAAN,CAAmBA,YADG,CAAnC;EAIA,MAAME,WAAW,GAAGX,gBAAgB,CAACS,YAAD,EAAe,GAAf,CAApC;EAEA,MAAM;IAAEG;EAAF,IAAWf,QAAQ,CAAC,CAAC,MAAD,EAASc,WAAT,CAAD,EAAwB,MAAMR,OAAO,CAACQ,WAAD,CAArC,EAAoD;IAC3EE,OAAO,EAAE,CAAC,CAACF;EADgE,CAApD,CAAzB;EAIA,MAAMG,SAAS,GAAGL,YAAY,CAACM,MAAb,GAAsB,CAAxC;;EAEA,MAAMC,QAAQ,GAAIC,CAAD,IACfT,QAAQ,CAACJ,eAAe,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CADV;;EAGAvB,SAAS,CAAC,MAAM;IACd,IAAIgB,IAAJ,EAAU;MACR,IAAIQ,KAAK,CAACC,OAAN,CAAcT,IAAd,CAAJ,EAAyB;QACvBJ,QAAQ,CAACH,eAAe,CAACO,IAAD,CAAhB,CAAR;MACD,CAFD,MAEO;QACLJ,QAAQ,CAACH,eAAe,CAAC,CAACO,IAAD,CAAD,CAAhB,CAAR;MACD;IACF,CAND,MAMO;MACLJ,QAAQ,CAACH,eAAe,CAAC,EAAD,CAAhB,CAAR;IACD;EACF,CAVQ,EAUN,CAACO,IAAD,EAAOJ,QAAP,EAAiBM,SAAjB,CAVM,CAAT;EAWA,oBACE;IAAK,WAAQ,SAAb;IAAuB,SAAS,EAAER,MAAM,CAAC,sBAAD,CAAxC;IAAA,wBACE;MAAK,SAAS,EAAEA,MAAM,CAAC,iBAAD,CAAtB;MAAA,wBACE,QAAC,aAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QACE,IAAI,EAAC,QADP;QAEE,SAAS,EAAEA,MAAM,CAACgB,KAFpB;QAGE,WAAW,EAAC,iEAHd;QAIE,KAAK,EAAEb,YAJT;QAKE,QAAQ,EAAEO;MALZ;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAWE;MAAQ,IAAI,EAAC,QAAb;MAAsB,SAAS,EAAEV,MAAM,CAACiB,MAAxC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAXF,eAcE,QAAC,UAAD;MAAA;MAAA;MAAA;IAAA,QAdF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD;;GA9CQhB,kB;UACUL,c,EACID,c,EAIDD,gB,EAEHH,Q;;;KARVU,kB;AAgDT,eAAeA,kBAAf"},"metadata":{},"sourceType":"module"}