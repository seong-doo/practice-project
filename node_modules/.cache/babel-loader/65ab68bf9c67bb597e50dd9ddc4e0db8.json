{"ast":null,"code":"var _jsxFileName = \"/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useQueryDebounce } from 'hooks';\nimport { fetcher } from 'utils';\nimport { useKeys } from 'hooks/useKeys';\nimport DesktopSearchInput from './DesktopSearchInput';\nimport MobileSearchInput from './MobileSearchInput';\nimport styles from './search-input.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchInput() {\n  _s();\n\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [cursor, setCursor] = useState(-1);\n  const searchInput = useQueryDebounce(searchValue, 500);\n  const {\n    data\n  } = useQuery(['data', searchInput], () => fetcher(searchInput), {\n    enabled: !!searchInput\n  });\n  const {\n    useEnterToConfirm\n  } = useKeys();\n  const closeBtnRef = useRef(null);\n  useEnterToConfirm(closeBtnRef); // const keyboardNavigation = useMemo(\n  //   () => (e: KeyboardEvent) => {\n  //     if (data === undefined) return;\n  //     if (e.key === 'ArrowDown' && isSearching) {\n  //       setCursor((prev) => (prev < data.length - 1 ? prev + 1 : prev));\n  //       console.log('!!!');\n  //     }\n  //     if (e.key === 'ArrowUp' && isSearching) {\n  //       setCursor((prev) => (prev > 0 ? prev - 1 : 0));\n  //       console.log('!!!');\n  //     }\n  //     if (e.key === 'Enter') {\n  //       setCursor(-1);\n  //       setIsSearching(false);\n  //     }\n  //   },\n  //   [data, isSearching, setIsSearching, setCursor]\n  // );\n  // useEffect(() => {\n  //   window.addEventListener('keydown', keyboardNavigation);\n  // }, [keyboardNavigation]);\n\n  const mouseDown = idx => {\n    setCursor(idx);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles['search-input'],\n    children: [/*#__PURE__*/_jsxDEV(MobileSearchInput, {\n      searchValue: searchValue,\n      setSearchValue: setSearchValue,\n      isSearching: isSearching,\n      setIsSearching: setIsSearching,\n      data: data,\n      cursor: cursor,\n      mouseDown: mouseDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DesktopSearchInput, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchInput, \"438vz3sgSL1lgMV17/Kd5OTgYeo=\", false, function () {\n  return [useQueryDebounce, useQuery, useKeys, useEnterToConfirm];\n});\n\n_c = SearchInput;\nexport default SearchInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchInput\");","map":{"version":3,"names":["useRef","useState","useQuery","useQueryDebounce","fetcher","useKeys","DesktopSearchInput","MobileSearchInput","styles","SearchInput","isSearching","setIsSearching","searchValue","setSearchValue","cursor","setCursor","searchInput","data","enabled","useEnterToConfirm","closeBtnRef","mouseDown","idx"],"sources":["/Users/jeongseongdu/Downloads/git3/TEAM_5B/src/components/SearchInput/index.tsx"],"sourcesContent":["import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useQueryDebounce } from 'hooks';\nimport { fetcher } from 'utils';\nimport { useKeys } from 'hooks/useKeys';\n\nimport DesktopSearchInput from './DesktopSearchInput';\nimport MobileSearchInput from './MobileSearchInput';\n\nimport styles from './search-input.module.scss';\n\nfunction SearchInput() {\n  const [isSearching, setIsSearching] = useState<boolean>(false);\n  const [searchValue, setSearchValue] = useState<string>('');\n  const [cursor, setCursor] = useState(-1);\n\n  const searchInput = useQueryDebounce(searchValue, 500);\n  const { data } = useQuery(['data', searchInput], () => fetcher(searchInput), {\n    enabled: !!searchInput,\n  });\n\n  const { useEnterToConfirm } = useKeys();\n  const closeBtnRef = useRef<HTMLButtonElement>(null);\n  useEnterToConfirm(closeBtnRef);\n\n  // const keyboardNavigation = useMemo(\n  //   () => (e: KeyboardEvent) => {\n  //     if (data === undefined) return;\n\n  //     if (e.key === 'ArrowDown' && isSearching) {\n  //       setCursor((prev) => (prev < data.length - 1 ? prev + 1 : prev));\n  //       console.log('!!!');\n  //     }\n  //     if (e.key === 'ArrowUp' && isSearching) {\n  //       setCursor((prev) => (prev > 0 ? prev - 1 : 0));\n  //       console.log('!!!');\n  //     }\n  //     if (e.key === 'Enter') {\n  //       setCursor(-1);\n  //       setIsSearching(false);\n  //     }\n  //   },\n  //   [data, isSearching, setIsSearching, setCursor]\n  // );\n\n  // useEffect(() => {\n  //   window.addEventListener('keydown', keyboardNavigation);\n  // }, [keyboardNavigation]);\n\n  const mouseDown = (idx: number) => {\n    setCursor(idx);\n  };\n  return (\n    <div className={styles['search-input']}>\n      <MobileSearchInput\n        searchValue={searchValue}\n        setSearchValue={setSearchValue}\n        isSearching={isSearching}\n        setIsSearching={setIsSearching}\n        data={data}\n        cursor={cursor}\n        mouseDown={mouseDown}\n      />\n      <DesktopSearchInput />\n    </div>\n  );\n}\n\nexport default SearchInput;\n"],"mappings":";;;AAAA,SAA0CA,MAA1C,EAAkDC,QAAlD,QAAkE,OAAlE;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,gBAAT,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,OAAT,QAAwB,eAAxB;AAEA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AAEA,OAAOC,MAAP,MAAmB,4BAAnB;;;AAEA,SAASC,WAAT,GAAuB;EAAA;;EACrB,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAU,KAAV,CAA9C;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAS,EAAT,CAA9C;EACA,MAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,CAAC,CAAF,CAApC;EAEA,MAAMe,WAAW,GAAGb,gBAAgB,CAACS,WAAD,EAAc,GAAd,CAApC;EACA,MAAM;IAAEK;EAAF,IAAWf,QAAQ,CAAC,CAAC,MAAD,EAASc,WAAT,CAAD,EAAwB,MAAMZ,OAAO,CAACY,WAAD,CAArC,EAAoD;IAC3EE,OAAO,EAAE,CAAC,CAACF;EADgE,CAApD,CAAzB;EAIA,MAAM;IAAEG;EAAF,IAAwBd,OAAO,EAArC;EACA,MAAMe,WAAW,GAAGpB,MAAM,CAAoB,IAApB,CAA1B;EACAmB,iBAAiB,CAACC,WAAD,CAAjB,CAZqB,CAcrB;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;;EAEA,MAAMC,SAAS,GAAIC,GAAD,IAAiB;IACjCP,SAAS,CAACO,GAAD,CAAT;EACD,CAFD;;EAGA,oBACE;IAAK,SAAS,EAAEd,MAAM,CAAC,cAAD,CAAtB;IAAA,wBACE,QAAC,iBAAD;MACE,WAAW,EAAEI,WADf;MAEE,cAAc,EAAEC,cAFlB;MAGE,WAAW,EAAEH,WAHf;MAIE,cAAc,EAAEC,cAJlB;MAKE,IAAI,EAAEM,IALR;MAME,MAAM,EAAEH,MANV;MAOE,SAAS,EAAEO;IAPb;MAAA;MAAA;MAAA;IAAA,QADF,eAUE,QAAC,kBAAD;MAAA;MAAA;MAAA;IAAA,QAVF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAcD;;GAvDQZ,W;UAKaN,gB,EACHD,Q,EAIaG,O,EAE9Bc,iB;;;KAZOV,W;AAyDT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}